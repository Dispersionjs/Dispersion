<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<title>Dispersion</title>
	<!--Import Google Icon Font-->
	<link href="http://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
	<!--Import materialize.css-->
	<link type="text/css" rel="stylesheet" href="assets/css/materialize.min.css" media="screen,projection" />
	<link rel="stylesheet" href="assets/css/style.css" media="screen" title="no title">
</head>

<body>

	<div class="row">

	</div>

	<div class="light-blue darken-1">
		<h1 class="center brand-logo">Dispersion</h1>
	</div>
	<div id='dash-content' ng-app='myApp'>
		<div ng-controller='MainController as mainCtrl'>
			<div ng-show="mainCtrl.view !== 'project'" class="row">
				<div class="col s6">
					<ul class="tabs">
						<li class="tab col s3"><a ng-click="mainCtrl.view= 'files'" class="active" href="#">add view</a></li>
						<li class="tab col s3"><a ng-click="mainCtrl.view = 'publish'; mainCtrl.publishPage()" href="#">publish view</a></li>
					</ul>
				</div>
			</div>
			<div ng-controller='FilesController as fileCtrl'>
				<div ng-show="mainCtrl.view ==='files' " class="row">

					<div class="col s12">
						<top-bar></top-bar>


						<div class="input-field col s12">
							<select ng-model="sortBy">
							<option value="" disabled selected>Filter By...</option>
           		<option value="time">-- time --</option>
            	<option value="item">item</Loption>
            	<option value="fileType">fileType</option>
        		</select>
						</div>


						<ul class="collection">
							<li class="collection-item avatar" ng-repeat='file in fileCtrl.files | orderBy: sortBy track by $index '>
								<i ng-if="file.fileType === 'folder'" class="material-icons circle">folder</i>
								<img ng-if="file.fileType === 'image'" src="{{file.url}}" alt="" class="circle">
								<i ng-if="file.fileType === 'doc'" class="material-icons circle">description</i>
								<i ng-if="file.fileType === 'excel'" class="material-icons circle green">insert_chart</i>
								<i ng-if="file.fileType === 'video'" class="material-icons circle red">play_arrow</i>
								<span class="title">{{file.item}}</span>
								<p>{{file.time}} <br> {{file.url}}
								</p>
								<div href="#!" class="secondary-content">
									<a href='#!' ng-click='fileCtrl.addToPublish(file)'> <i class="material-icons">language</i></a>
									<a href='#!'> <i class="material-icons">info_outline</i></a>
									<a href='#!' ng-click='fileCtrl.saveToDisk(file.hash,username)'> <i class="material-icons">system_update_alt</i></a>
									<a href='#!' ng-click='fileCtrl.deleteHash(file.hash)'> <i class="material-icons">delete</i></a>
								</div>
							</li>
						</ul>
						</ul>
					</div>
				</div>
			</div>
			<div>
				<div ng-controller='PublishController as pubCtrl' ng-show="mainCtrl.view === 'publish' ">
					<div class=" row ">
						<div class="col s12 ">
							<publish-card ng-show="mainCtrl.view==='publish'"></publish-card>
						</div>
					</div>
				</div>
				<div class="row" ng-show="mainCtrl.view==='project'" style="position: absolute; width:100%; height:100%">
					this is testing project page yo. should probably be own directive/partial
				</div>
			</div>
		</div>
</body>
<script>

    // require other files to run in this process
  window.$ = window.jQuery = require('./node_modules/jquery/dist/jquery.min.js');
	window.Hammer = require('./node_modules/hammerjs/hammer.min.js');
	
  </script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.7/js/materialize.min.js "></script>

<script src="./assets/js/dispersion.js "></script>
<script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js "></script>
<script src="components/directives/project-directive.js "></script>
<script src="components/factories/fileFactory.js "></script>
<script src="components/factories/ipfsService.js "></script>
<script src="components/factories/publishService.js "></script>
<script src="components/factories/diskFactory.js "></script>
<script src="components/directives/topbarDirective.js "></script>
<script src="components/directives/publishDirective.js "></script>
<script src="components/controllers/mainController.js "></script>
<script src="components/controllers/FilesController.js "></script>
<script src="components/controllers/publishController.js "></script>
<script> 	
	$(document).ready(function() {
    $('select').material_select();
});

</script>
<script src="app.js "></script>

</html>