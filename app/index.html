<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<title>Dispersion</title>
	<!--Import Google Icon Font-->
	<link href="http://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
	<!--Import materialize.css-->
	<link type="text/css" rel="stylesheet" href="assets/css/materialize.min.css" media="screen,projection" />
	<link rel="stylesheet" href="assets/css/style.css" media="screen" title="no title">
</head>

<body>

	<div class="light-blue darken-1">
		<h1 class="center brand-logo">Dispersion</h1>
	</div>
	<div id='dash-content' ng-app='myApp'>
		<div ng-controller='MainController'>
			<a href="" ng-click="View=false">add view</a>
			<a href="" ng-click="View=true; publishpage()">publish view</a>
			<div ng-controller='DashboardController'>
				<div ng-hide="View" class="row">
					<div class="col s12">
						<top-bar></top-bar>
						<ul class="collection">
							<li class="collection-item avatar" ng-repeat='(key, value) in files track by $index'>
								<i ng-if="value.fileType === 'folder'" class="material-icons circle">folder</i>
								<img ng-if="value.fileType === 'image'" src="{{value.url}}" alt="" class="circle">
								<i ng-if="value.fileType === 'doc'" class="material-icons circle">description</i>
								<i ng-if="value.fileType === 'excel'" class="material-icons circle green">insert_chart</i>
								<i ng-if="value.fileType === 'video'" class="material-icons circle red">play_arrow</i>
								<span class="title">{{value.item}}</span>
								<p>{{value.time}} <br> {{value.url}}
								</p>
								<div href="#!" class="secondary-content">
									<a href='#!' ng-click='addToPublish(value)'> <i class="material-icons">language</i></a>
									<a href='#!'> <i class="material-icons">info_outline</i></a>
									<a href='#!' ng-click='saveToDisk(value.hash,username)'> <i class="material-icons">system_update_alt</i></a>
									<a href='#!' ng-click='deleteHash(value.hash)'> <i class="material-icons">delete</i></a>
								</div>
							</li>
						</ul>
						</ul>
					</div>
				</div>
			</div>

			<div ng-controller='PublishController'>
				<publish-card ng-show="View"></publish-card>
			</div>
		</div>
	</div>
</body>
<script>
    // require other files to run in this process
    window.$ = window.jQuery = require('./node_modules/jquery/dist/jquery.min.js');
  </script>
<script src="./assets/js/dispersion.js"></script>
<script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>
<script src="components/factories/hashFactory.js"></script>
<script src="components/factories/publishService.js"></script>
<script src="components/directives/topbarDirective.js"></script>
<script src="components/directives/publishDirective.js"></script>
<script src="components/controllers/mainController.js"></script>
<script src="components/controllers/dashboardController.js"></script>
<script src="components/controllers/publishController.js"></script>
<script src="app.js"></script>

</html>